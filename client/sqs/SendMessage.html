<html>
  <head>
    <title>Amazon SQSScratchpad</title>
    <script type="text/javascript" src="http://crypto-js.googlecode.com/files/2.3.0-crypto-sha1-hmac.js"></script>
	<script type="text/javascript" src="js/scratchpad.js"></script>
    <script>
        function invokeRequest() {
            var form = document.forms[0];
            var accessKeyId =  parent.navbar.getAccessKeyId();
            var secretKey =  parent.navbar.getSecretAccessKey();
            var url = generateSignedURL("SendMessage",form, accessKeyId, secretKey, "https://queue.amazonaws.com", "2009-02-01");
            var postFormArea = document.getElementById("PostFormArea");
            postFormArea.innerHTML = getFormFieldsFromUrl(url);
            var postForm = document.getElementById("PostForm");
				var queueUrl = form['QueueUrl'].value;
				postForm.action = queueUrl ;
				form['QueueUrl'].value = "";
            postForm.submit();
				form['QueueUrl'].value = queueUrl;
        }

        function displayUrl() {
            var form = document.forms[0];
            var accessKeyId =  parent.navbar.getAccessKeyId();
            var secretKey =  parent.navbar.getSecretAccessKey();
				var queueUrl = form['QueueUrl'].value;
				form['QueueUrl'].value = "";
				form.action = queueUrl;
            var url = generateSignedURL("SendMessage",form, accessKeyId, secretKey, "https://queue.amazonaws.com", "2009-02-01");
            document.getElementById("preview").innerHTML = "<b>Signed URL:</b><p/>" + url + "<p/>";
            document.getElementById("preview").style.display = "block";
        }

        function displayStringToSign() {
            var form = document.forms[0];
            var accessKeyId =  parent.navbar.getAccessKeyId();
            var secretKey =  parent.navbar.getSecretAccessKey();
				var queueUrl = form['QueueUrl'].value;
				form['QueueUrl'].value = "";
				form.action = queueUrl;
            var url = generateSignedURL("SendMessage",form, accessKeyId, secretKey, "https://queue.amazonaws.com", "2009-02-01");
            var stringToSign = getStringToSign(url);
            document.getElementById("preview").innerHTML = "<b>String To Sign:</b><p/>" + stringToSign + "<p/>";
            document.getElementById("preview").style.display = "block";
        }
    </script>

    <link rel="stylesheet" type="text/css" href="css/scratchpad.css"/>
  </head>

  <body marginheight="0" marginwidth="0" bottommargin="0" rightmargin="0" leftmargin="0" topmargin="0">
    <form name="myform" action="" enctype="application/x-www-form-urlencoded" method="get">
      <table border="0" align="center" cellpadding="0" cellspacing="0" style="width: 100%">
        <tr>
          <td width="50%"><img height="1" src="images/spacer.gif" width="100"></td>
          <td valign="top">
            <table width="100%">
              <tr>
                <td valign="top" nowrap><font class="header">SendMessage</font>
                  <br/><br/>
                  <div style="padding-bottom: 2px; border-bottom: 1px dashed #cccccc; width: 100%"></div>
                  <table cellspacing="10" width="100%" style="background-color: #eeeeee;  padding: 10px;">
                    <tr><td>
                        <table width="100%" align="center"><tr><td>
                              <table border="0" width="100%" style="padding: 0px; margin: 0px; border: 2px solid #D5D5D5; background: url(images/bg-table.png) left top repeat-x;">
   <tr>
      <td>
         <table cellpadding="0" cellspacing="3" border="0" bgcolor="#eeeeee" width="100%">
            <tr>
               <td align="right" style="padding-right:25px;padding-left:0px" width="250"><span class="label">Queue Url</span></td>
               <td nowrap><input class="input" type="text" name="QueueUrl"></td>
            </tr>
         </table>
         <table cellpadding="0" cellspacing="3" border="0" bgcolor="#eeeeee" width="100%">
            <tr>
               <td align="right" style="padding-right:25px;padding-left:0px" width="250"><span class="label">Message Body</span></td>
               <td nowrap><input class="input" type="text" name="MessageBody"></td>
            </tr>
         </table>
         <table style="margin: 20px" cellpadding="0" width="90%" cellspacing="2" border="0" bgcolor="#eeeeee" id="Attribute.1">
            <tr>
               <td style="border: 2px dashed #cccccc;">
                  <table width="100%">
                     <tr>
                        <td><input align="right" hspace="5" vspace="5" type="image" src="images/add.gif" onclick="addContainer(this, 8);return false;" id="Attribute.1.Add"><input align="right" type="image" style="display:''" src="images/delete.gif" hspace="5" vspace="5" onclick="deleteContainer(this, 8);return false;" id="Attribute.1.Delete"><div class="legend"><img src="images/bluearrow.gif" align="absmiddle" hspace="10">Attribute
                           </div>
                        </td>
                     </tr>
                  </table>
                  <fieldset style="padding-left: 30px;padding-right: 30px;padding-bottom: 30px; border: 0px;">
                     <table cellpadding="0" cellspacing="3" border="0" bgcolor="#eeeeee" width="100%">
                        <tr>
                           <td align="right" style="padding-right:25px;padding-left:0px" width="250"><span class="label">Name</span></td>
                           <td nowrap><input class="input" type="text" name="Attribute.1.Name"></td>
                        </tr>
                     </table>
                     <table cellpadding="0" cellspacing="3" border="0" bgcolor="#eeeeee" width="100%">
                        <tr>
                           <td align="right" style="padding-right:25px;padding-left:0px" width="250"><span class="label">Value</span></td>
                           <td nowrap><input class="input" type="text" name="Attribute.1.Value"></td>
                        </tr>
                     </table>
                  </fieldset>
               </td>
            </tr>
         </table>
      </td>
   </tr>
</table>
                        </td></tr></table>
                    </td></tr>
                  </table>
                </td>
              </tr>

            </table>
            <div class="blurb" id="preview" style="margin: 20 1 1 1;overflow: auto;display:none"></div>
            <img height="15" src="images/spacer.gif" width="700">
            <table width="100%">
              <tr>
                <td><a href="javascript:invokeRequest();"><img   border="0" src="images/button-invokerequest.png"></a>&nbsp;&nbsp;&nbsp;<a href="javascript:displayUrl();"><img   border="0" src="images/button-displayurl.png"></a>&nbsp;&nbsp;&nbsp;<a href="javascript:displayStringToSign();"><img   border="0" src="images/button-displaystringtosign.png"></a>&nbsp;&nbsp;&nbsp;<a href="javascript:document.forms[0].reset()"><img border="0" src="images/button-resetform.png"></a>
                </td>
              </tr>
            </table>
          </td>
          <td width="50%"><img height="1" src="images/spacer.gif" width="100"></td>
        </tr>
      </table>

      <br/><br/>
      <div style="padding-bottom: 2px; border-bottom: 1px dashed #cccccc; width: 100%"></div>
      <center><div style="padding: 15px" class="smallLabel">Amazon SQS API Version: 2009-02-01. Scratchpad generated: Wed Apr 08 20:52:59 PDT 2009  </div></center>
    </form>
    <form id="PostForm" name="PostForm" target="_new" action="https://queue.amazonaws.com" enctype="application/x-www-form-urlencoded" method="post">
      <div id="PostFormArea"></div>
    </form>
  </body>
</html>
